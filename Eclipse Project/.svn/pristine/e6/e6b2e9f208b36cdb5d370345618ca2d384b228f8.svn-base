/*
 * CSE 593 - Fall 2016 - Applied Project
 * Author  : Lucio Ortiz and Robert Blazewicz
 * Version : DEVSJAVA 3.0
 * Date    : 2016-09-16
 */
package EngineMod;

import java.awt.Dimension;
import java.awt.Point;

import GenCol.entity;
import view.modeling.ViewableAtomic;
import view.modeling.ViewableComponent;
import view.modeling.ViewableDigraph;

public class TurbojetEngine extends ViewableDigraph {
  public TurbojetEngine() {
    this("TurbojetEngine", 90);
  }

  public TurbojetEngine(String name, double proc_time) {
    super(name);
    make(proc_time);

    addInport("in");
    addOutport("out");

    addTestInput("in", new entity("job"));
  }

  private void make(double proc_time) {
    ViewableAtomic p0 = new EngineStage1("Stage1", proc_time / 3);
    ViewableAtomic p1 = new EngineStage2("Stage2", proc_time / 3);
    ViewableAtomic p2 = new EngineStage3("Stage3", proc_time / 3);

    add(p0);
    add(p1);
    add(p2);

    addCoupling(this, "in", p0, "in");
    addCoupling(p0, "out", p1, "in");
    addCoupling(p1, "out", p2, "in");
    addCoupling(p2, "out", this, "out");

    initialize();

    preferredSize = new Dimension(586, 90);
    p0.setPreferredLocation(new Point(-4, 19));
    p1.setPreferredLocation(new Point(163, 19));
    p2.setPreferredLocation(new Point(333, 19));
  }
    /**
     * Automatically generated by the SimView program.
     * Do not edit this manually, as such changes will get overwritten.
     */
    public void layoutForSimView()
    {
        preferredSize = new Dimension(591, 104);
        ((ViewableComponent)withName("Stage2")).setPreferredLocation(new Point(177, 19));
        ((ViewableComponent)withName("Stage1")).setPreferredLocation(new Point(-8, 20));
        ((ViewableComponent)withName("Stage3")).setPreferredLocation(new Point(352, 20));
    }
}
