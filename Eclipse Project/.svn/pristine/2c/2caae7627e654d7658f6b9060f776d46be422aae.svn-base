/*
 * CSE 593 - Fall 2016 - Applied Project
 * Author  : Lucio Ortiz and Robert Blazewicz
 * Version : DEVSJAVA 3.0
 * Date    : 2016-08-31
 */
package turbojet.toolkit;

import java.lang.reflect.Field;
import java.lang.reflect.Modifier;


public class Calibration {
  private String path = null;

  //private associative-array;

  public Calibration() throws RuntimeException {
      System.out.println("Calibration initialization start");
    //String path = getPath();

    // Open getPath()
    // foreach line
    //    extract name and value
    //    associative-array.add(name, value)
    // Close path
    System.out.println("Calibration initialization end");
  }

  public void update(Object someClass) {
    try {
      final Field[] fields = someClass.getClass().getDeclaredFields();

      for (int i = 0; i < fields.length; i++) {
        final Field field = fields[i];

        //System.out.println("  --"+field.getName());
        int modifiers = field.getModifiers();

        if (Modifier.isFinal(modifiers)) {
          //String str= field.getType().getTypeName();
          switch (field.getType().getTypeName()) {
            case "boolean":

              if (field.getName() == "KeABC_b_Test1") {
                System.out.println("boolean: " + field.getName());
                field.setAccessible(true);
                field.set(someClass, false);
              }
              if (field.getName() == "KeABC_b_Test2") {
                  System.out.println("boolean: " + field.getName());
                  field.setAccessible(true);
                  field.set(someClass, false);
                }

              break;

            case "char":

              if (field.getName() == "KeABC_c_Test1") {
                System.out.println("char: " + field.getName());
                field.setAccessible(true);
                field.set(someClass, 'A');
              }
              if (field.getName() == "KeABC_c_Test2") {
                  System.out.println("char: " + field.getName());
                  field.setAccessible(true);
                  field.set(someClass, 'Z');
                }

              break;

            case "int":

              if (field.getName() == "KeABC_i_Test1") {
                System.out.println("int: " + field.getName());
                field.setAccessible(true);
                field.set(someClass, 1996);
              }
              if (field.getName() == "KeABC_i_Test2") {
                  System.out.println("int: " + field.getName());
                  field.setAccessible(true);
                  field.set(someClass, 1997);
                }

              break;

            case "double":

              if (field.getName() == "KeABC_d_Test1") {
                System.out.println("double: " + field.getName());
                field.setAccessible(true);
                field.set(someClass, 3.1415);
              }
              if (field.getName() == "KeABC_d_Test2") {
                  System.out.println("double: " + field.getName());
                  field.setAccessible(true);
                  field.set(someClass, 1.618);
                }

              break;

            case "java.lang.String":

              if (field.getName() == "KeABC_s_Test1") {
                System.out.println("String: " + field.getName());
                field.setAccessible(true);
                field.set(someClass, "First Test");
              }
              if (field.getName() == "KeABC_s_Test2") {
                  System.out.println("String: " + field.getName());
                  field.setAccessible(true);
                  field.set(someClass, "Second Test");
                }

              break;
          }
        }
      }
    } catch (SecurityException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    } catch (Exception e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
  }

  private String getPath() {
    return path;
  }

  public void setPath(String path) {
    this.path = path;
  }
}
