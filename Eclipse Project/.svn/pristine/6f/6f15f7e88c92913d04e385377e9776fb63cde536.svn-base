/*
 * CSE 593 - Fall 2016 - Applied Project
 * Author  : Lucio Ortiz and Robert Blazewicz
 * Version : DEVSJAVA 3.0
 * Date    : 2016-10-02
 */
package turbojet.engine;

import turbojet.toolkit.Calibration;
import turbojet.toolkit.Log;
import turbojet.toolkit.ValueSet;

/**
 * The Class ConditionSetup.
 */
public class ConditionSetup {

  /** The Tzero. */
  private double Tzero;

  /** The gamma. */
  private double gamma;

  /** The Rair. */
  private double Rair;

  /** The gc. */
  private double gc;

  /** The log. */
  protected Log log;

  /**
   * Instantiates a new condition setup.
   */
  public ConditionSetup() {
    log = new Log(this.getClass().getName());
  }

  /**
   * Process.
   *
   * @param valueSet the value set
   * @param calibration the calibration
   */
  public void process(final ValueSet valueSet, final Calibration calibration) {
    calibration.update(this);
    valueSet.valuePop(this);

    // Output parameters
    double azero = 0;

    // Condition Setup
    azero = Math.sqrt(gamma*Rair*gc*Tzero); // 994.85[ft/s] speed of sound

    valueSet.addValue("azero", azero, "ft/s", "Speed of sound");
    valueSet.valuePush(this);
  }
}
